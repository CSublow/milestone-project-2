<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>UK Road Transport Greenhouse Gas Emissions 1990-2016 | Interactive Data Dashboard</title>
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="assets/favicon/safari-pinned-tab.svg" color="#9bcd64">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="theme-color" content="#ffffff">
    
    <!-- STYLESHEETS -->
    <!-- DC -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.css" type="text/css" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <!-- Custom -->
    <link rel="stylesheet" href="assets/stylesheets/style.css" type="text/css" />
    
    <!-- HEAD SCRIPTS -->
    <!-- Placed here as opposed to closing body tag due to the need for them to load before the rest of the content -->
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <!-- Loading -->
    <script src="assets/js/loading.js"></script>
</head>

<body class="no-js">
    <!-- Loader -->
    <div id="loader-wrapper">
        <div id="loader"></div>
        <p>Loading...</p>
    </div>
    
    <div id="ms-ie-display">
        <div>
            <p><span>You are currently using an old browser!</span></p>
            <i class="far fa-frown"></i>
            <p>Please update your browser to view the dashboard</p>
        </div>
    </div>
    
    <!-- No JS Display -->
    <noscript id="no-js-display">
        <div>
            <p><span>No JavaScript Detected!</span></p>
            <i class="far fa-frown"></i>
            <p>Please enable JavaScript to view the dashboard</p>
        </div>
    </noscript>
    
    <!-- Header -->
    <header class="navbar navbar-dark">
        <h1 class="text-center">UK Road Transport Greenhouse Gas Emissions 1990-2016
            <span>Interactive Data Dashboard</span>
        </h1>
    </header>
    
    <!-- Mouse/Trackpad Alert -->
    <div class="alert alert-danger alert-dismissable fade show text-center" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        <span><strong>NOTE:</strong> This dashboard is best viewed on a device with a large screen size that has a mouse/trackpad, such as a laptop or desktop PC.</span>
    </div>
    
    <!-- Main -->
    <main class="container-fluid">
        <div class="row row-reset">
            <!-- Introduction -->
            <section class="section-styles-sm">
                <h2 class="sr-only">Introduction</h2> <!--Text for the benefit of screen reader users so they know what this section is composed of-->
                
                <!-- Font Awesome Icons -->
                <div class="fa-div col-12 text-center">
                    <i class="fas fa-chart-bar"></i>
                    <i class="fas fa-chart-area"></i>
                </div>
                
                <!-- Introduction Text and Image -->
                <div class="offset-md-1 col-md-10">
                    <p>The dashboard below visualises the latest official statistics available from UK government sources, covering road transport emissions between the years 1990 and 2016. More information on the statistics used to generate this dashboard can be found on the <a href="https://www.gov.uk/government/statistics/final-uk-greenhouse-gas-emissions-national-statistics-1990-2016" target="_blank">gov.uk website</a>.</p>
                </div>
                
            </section>
            
            <!-- Highlights Section -->
            <section class="section-styles-sm">
                <h2 class="text-uppercase text-center">Highlights</h2>
                
                <!-- Total Emissions Figure -->
                <figure class="row text-center">
                    <div id="total-emissions-figure" class="col-12 highlights-figure"></div>
                    <figcaption class="col-12">Kilotons of greenhouse gasses emitted by UK road transport betwen 1990-2016.</figcaption>
                </figure>
                
                <!-- Average Emissions Figure -->
                <figure class="row text-center">
                    <div id="average-emissions-figure" class="col-12 highlights-figure"></div>
                    <figcaption class="col-12">Average kilotons of emissions emitted each year.</figcaption>
                </figure>
                
                <!-- Most Polluting Year -->
                <figure class="row text-center">
                    <!-- Hardcoded value used here -->
                    <div id="top-year-figure" class="col-12 highlights-figure">2007</div>
                    <figcaption class="col-12">Most polluting year on record.</figcaption>
                </figure>
            </section>
        </div>

        <!-- Total Emissions Over Time Section -->
        <section class="row section-styles">
            <h2 class="text-uppercase text-center col-12">Total emissions over time</h2>
            <div class="offset-md-1 col-md-5 offset-xl-2 col-xl-4">
                <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>Emissions from road transport rose steadily between 1990 and 2007.</p>
                <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>Beginning in 2008 emissions began to dip, reaching a period low of 108,134 kilotons in 2013.</p>
            </div>
            <div class="col-md-5 offset-xl-1 col-xl-4">
            <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>Since 2013 emissions have been on the rise again, although for the latest period (2016) emissions are about the same level as they were in the early 90's.</p>
                <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>It remains to be seen what effect the increasing market share of electric vehicles will have on emissions.</p>
            </div>
            
            <!-- Vehicle Select Box -->
            <div id="source-selector-container" class="selector-container col-12">
                <p>Select vehicle type:</p>
                <p>Hold ctrl (Windows) or cmd (Mac) whilst clicking to select multiple vehicle types.</p>
                <div id="source-selector" class="col-12"></div>
            </div>
            
            <!-- Descriptive Text -->
            <div class="text-center col-12 selection-description">
                <p><span id="show-source-span">There was a total of</span> <span id="accounted"></span> <span id="show-time-figure"></span> kilotons of emissions throughout the period.</p>
                <p id="percentage-p">That is <span id="show-time-figure-percentage"></span> of the emissions for the period.</p>
            </div>
            
            <div class="col-12">
                <!-- Reset Button -->
                <button class="reset-button text-center" onclick="resetSelects(sourceSelectMenu, '#source-selector-2')">
                    <strong>Reset Charts</strong>
                    <i class="fas fa-redo"></i>
                </button>
                
                <!-- 'Tip' Text -->
                <small class="force-center text-center">Tip: hover over the lines with your cursor to see more information.</small>
            </div>
            
            <!-- Total Emissions Over Time Line Chart -->
            <div class="col-xl-6">
                <h3 class="text-center">Total emissions for selected vehicle types over time</h3>
                <div id="total-emissions-over-time"></div>
            </div>
            
            <!-- Total Emissions Over Time Composite Chart -->
            <div class="col-xl-6">
                <h3 class="text-center">Comparative emissions for vehicle types over time</h3>
                <div id="composite-chart"></div>
            </div>
        </section>

        <!-- Total Emissions By Type Of Vehicle Section -->
        <section class="row section-styles">
            <h2 class="text-uppercase text-center col-12">Total emissions by type of vehicle</h2>
            
            <div class="offset-md-1 col-md-5 offset-xl-2 col-xl-4">
                <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>Cars are responsible for the bulk of emissions over the period.</p>
                <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>Although emissions from petrol cars have nearly halved since 1990, emissions from diesel cars are now 10x what they were in 1990.</p>
            </div>
            <div class="col-md-5 offset-xl-1 col-xl-4">
                <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>HGV emissions, which dipped after the financial crisis of 2008, still haven't reached pre-recession levels.</p>
                <p><span class="fa-li" ><i class="fas fa-arrow-circle-right"></i></span>LPG, Motorcycle and Moped vehicles make up a very small fraction of overall emissions.</p>
            </div>
            
            <!-- Year Select Box -->
            <div id="year-selector-container" class="selector-container col-12">
                <p>Select year:</p>
                <p>Hold ctrl (Windows) or cmd (Mac) whilst clicking to select multiple years.</p>
                <div id="year-selector"></div>
            </div>
            
            <!-- Descriptive Text -->
            <div class="text-center col-12 selection-description">
                <p><span class="show-year-span">There was a total of</span> <span id="show-period-figure"></span> kilotons of emissions <span id="period-span">throughout the whole period</span>.</p>
            </div>
            
            <!-- Reset Button -->
            <div class="col-12">
                <button class="reset-button text-center" onclick="resetSelects(yearSelectMenu, '#year-selector-2')">
                    <strong>Reset Charts</strong>
                    <i class="fas fa-redo"></i>
                </button>
                
                <!-- 'Tip' Text -->
                <small class="force-center text-center">Tip: hover over the slices or bars with your cursor to see more information.</small>
            </div>
            
            <!-- Pie Chart -->
            <div class="col-xl-6">
                <h3 class="text-center">Proportion of emissions within selected time period</h3>
                <div id="pie-container">
                    <div id="total-emissions-per-source-pie"></div>
                </div>       
            </div>
            
            <!-- Bar Chart -->
            <div class="col-xl-6">
                <h3 class="text-center">Emissions per vehicle type within selected time period</h3>
                <div id="total-emissions-per-source"></div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer>
        <ul class="list-inline text-center">
            <li class="list-inline-item"><a href="#" onclick="topFunction()">Back to Top</a></li>
            <li class="list-inline-item"><a href="http://naei.beis.gov.uk/data/data-selector" target="_blank">Source of Data</a></li>
        </ul>
        <p class="text-center">Chris Hengmith &#169; 2018</p>
    </footer>
    
    <!-- SCRIPTS -->
    
    <!-- Bootstrap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
    <!-- DC and DC Dependencies -->
    <script src="assets/js/dependencies/d3v3.5.6.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
    
    <!-- Custom Scripts -->
    <script src="assets/js/pageScroll.js"></script>
    <script src="assets/js/chartScript.js"></script>
    
    <!-- No JS Script -->
    <script src="assets/js/no-js.js"></script>
    
    <!-- Detect IE Script -->
    <script src="assets/js/ms-ie.js"></script>
</body>
</html>