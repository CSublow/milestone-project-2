/* Loading effect css courtesy of https://ihatetomatoes.net/create-css3-spinning-preloader/, adapted into scss */

//The wrapper to take up the whole viewport, so the width and height are set to 100%
#loader-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    #loader {
        //These declarations, including :before and :after, generate 3 circles that envelop each other. All but the top sides of the circles are then set to transparent so that when the spin animation is applied it gives the effect of lines going around in a circle
        @extend %loading-spin-border;
        display: block;
        position: relative;
        left: 50%;
        top: 50%;
        width: 150px;
        height: 150px;
        margin: -75px 0 0 -75px;
        z-index: 1500;
        
        -webkit-animation: spin 2s linear infinite;
        animation: spin 2s linear infinite;
        &:before {
            @extend %loading-spin-border;
            content: "";
            position: absolute;
            top: $loaderBeforeDimension;
            left: $loaderBeforeDimension;
            right: $loaderBeforeDimension;
            bottom: $loaderBeforeDimension;
            
            -webkit-animation: spin 3s linear infinite;
            animation: spin 3s linear infinite;
        }
        &:after {
            @extend %loading-spin-border;
            content: "";
            position: absolute;
            top: $loaderAfterDimension;
            left: $loaderAfterDimension;
            right: $loaderAfterDimension;
            bottom: $loaderAfterDimension;
            
            -webkit-animation: spin 1.5s linear infinite;
            animation: spin 1.5s linear infinite;
        }
    }
    p {
        color: white;
        z-index: 2000;
        display: block;
        position: relative;
        // left: 50%;
        top: 50%;
        text-align: center;
        font-size: 2rem;
    }
    .loader-section {
        position: fixed;
        top: 0;
        width: 51%;
        height: 100%;
        background: #9bcd64;
        z-index: -1;
    }
    .loader-section.section-left {
        left: 0;
    }
    .loader-section.section-right {
        right: 0;
    }
}

@-webkit-keyframes spin {
    0%   {
        -webkit-transform: rotate(0deg);  /* Chrome, Opera 15+, Safari 3.1+ */
        -ms-transform: rotate(0deg);  /* IE 9 */
        transform: rotate(0deg);  /* Firefox 16+, IE 10+, Opera */
    }
    100% {
        -webkit-transform: rotate(360deg);  /* Chrome, Opera 15+, Safari 3.1+ */
        -ms-transform: rotate(360deg);  /* IE 9 */
        transform: rotate(360deg);  /* Firefox 16+, IE 10+, Opera */
    }
}
@keyframes spin {
    0%   {
        -webkit-transform: rotate(0deg);  /* Chrome, Opera 15+, Safari 3.1+ */
        -ms-transform: rotate(0deg);  /* IE 9 */
        transform: rotate(0deg);  /* Firefox 16+, IE 10+, Opera */
    }
    100% {
        -webkit-transform: rotate(360deg);  /* Chrome, Opera 15+, Safari 3.1+ */
        -ms-transform: rotate(360deg);  /* IE 9 */
        transform: rotate(360deg);  /* Firefox 16+, IE 10+, Opera */
    }
}

/* Loaded */
.loaded #loader-wrapper .loader-section.section-left {
    -webkit-transform: translateX(-100%);  /* Chrome, Opera 15+, Safari 3.1+ */
    -ms-transform: translateX(-100%);  /* IE 9 */
    transform: translateX(-100%);  /* Firefox 16+, IE 10+, Opera */
}
 
.loaded #loader-wrapper .loader-section.section-right {
    -webkit-transform: translateX(100%);  /* Chrome, Opera 15+, Safari 3.1+ */
    -ms-transform: translateX(100%);  /* IE 9 */
    transform: translateX(100%);  /* Firefox 16+, IE 10+, Opera */
}

.loaded #loader {
    opacity: 0;
}

.loaded #loader-wrapper {
    visibility: hidden;
}

.loaded #loader, .loaded #loader-wrapper p {
    opacity: 0;
    -webkit-transition: all 0.1s ease-out; 
            transition: all 0.1s ease-out;
}

.loaded #loader-wrapper .loader-section.section-right,
.loaded #loader-wrapper .loader-section.section-left {
 
    -webkit-transition: all 0.1s 0.1s ease-out; 
            transition: all 0.1s 0.1s ease-out;
}

.loaded #loader-wrapper {
        -webkit-transform: translateY(-100%);
            -ms-transform: translateY(-100%);
                transform: translateY(-100%);
 
        -webkit-transition: all 0.1s 0.6s ease-out; 
                transition: all 0.1s 0.6s ease-out;
}

/* No JS fallback */

.no-js #loader-wrapper {
    display: none;
}
.no-js h1 {
    color: #222222;
}